var app=function(){"use strict";function e(){}function t(e){return e()}function r(){return Object.create(null)}function n(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(e,t){e.appendChild(t)}function a(e,t,r){e.insertBefore(t,r||null)}function c(e){e.parentNode.removeChild(e)}function l(e){return document.createElement(e)}function f(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function u(e){return document.createTextNode(e)}function p(){return u(" ")}function d(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function m(e,t,r){null==r?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function h(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function g(e,t,r,n){e.style.setProperty(t,r,n?"important":"")}function v(e,t,r){e.classList[r?"add":"remove"](t)}let y;function w(e){y=e}function b(e){(function(){if(!y)throw new Error("Function called outside component initialization");return y})().$$.on_mount.push(e)}const $=[],x=[],E=[],F=[],L=Promise.resolve();let _=!1;function j(e){E.push(e)}let k=!1;const P=new Set;function z(){if(!k){k=!0;do{for(let e=0;e<$.length;e+=1){const t=$[e];w(t),O(t.$$)}for(w(null),$.length=0;x.length;)x.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];P.has(t)||(P.add(t),t())}E.length=0}while($.length);for(;F.length;)F.pop()();_=!1,k=!1,P.clear()}}function O(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const S=new Set;let C;function R(e,t){e&&e.i&&(S.delete(e),e.i(t))}function U(e,t,r,n){if(e&&e.o){if(S.has(e))return;S.add(e),C.c.push((()=>{S.delete(e),n&&(r&&e.d(1),n())})),e.o(t)}}function A(e){e&&e.c()}function N(e,r,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:f}=e.$$;a&&a.m(r,i),s||j((()=>{const r=c.map(t).filter(o);l?l.push(...r):n(r),e.$$.on_mount=[]})),f.forEach(j)}function T(e,t){const r=e.$$;null!==r.fragment&&(n(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function B(e,t){-1===e.$$.dirty[0]&&($.push(e),_||(_=!0,L.then(z)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(t,o,i,s,a,l,f=[-1]){const u=y;w(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:o.context||[]),callbacks:r(),dirty:f,skip_bound:!1};let d=!1;if(p.ctx=i?i(t,o.props||{},((e,r,...n)=>{const o=n.length?n[0]:r;return p.ctx&&a(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),d&&B(t,e)),r})):[],p.update(),d=!0,n(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(c)}else p.fragment&&p.fragment.c();o.intro&&R(t.$$.fragment),N(t,o.target,o.anchor,o.customElement),z()}w(u)}class q{$destroy(){T(this,1),this.$destroy=e}$on(e,t){const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{const e=r.indexOf(t);-1!==e&&r.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function D(e){var t={exports:{}};return e(t,t.exports),t.exports}D((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",a=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function l(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,i=Object.create(o.prototype),s=new k(n||[]);return i._invoke=function(e,t,r){var n=u;return function(o,i){if(n===d)throw new Error("Generator is already running");if(n===m){if("throw"===o)throw i;return z()}for(r.method=o,r.arg=i;;){var s=r.delegate;if(s){var a=L(s,r);if(a){if(a===h)continue;return a}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===u)throw n=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=d;var c=f(e,t,r);if("normal"===c.type){if(n=r.done?m:p,c.arg===h)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=m,r.method="throw",r.arg=c.arg)}}}(e,r,s),i}function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u="suspendedStart",p="suspendedYield",d="executing",m="completed",h={};function g(){}function v(){}function y(){}var w={};w[i]=function(){return this};var b=Object.getPrototypeOf,$=b&&b(b(P([])));$&&$!==r&&n.call($,i)&&(w=$);var x=y.prototype=g.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function F(e,t){function r(o,i,s,a){var c=f(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(c.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function L(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,L(e,r),"throw"===r.method))return h;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var o=f(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var i=o.arg;return i?i.done?(r[e.resultName]=i.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):i:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function P(e){if(e){var r=e[i];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,s=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return s.next=s}}return{next:z}}function z(){return{value:t,done:!0}}return v.prototype=x.constructor=y,y.constructor=v,v.displayName=c(y,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,a,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(F.prototype),F.prototype[s]=function(){return this},e.AsyncIterator=F,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var s=new F(l(t,r,n,o),i);return e.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},E(x),c(x,a,"Generator"),x[i]=function(){return this},x.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(j),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return a.type="throw",a.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),j(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;j(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:P(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));let G=!1,M=()=>{};var I={logging:G,setLogging:e=>{G=e},setCustomLogger:e=>{M=e},log:(e,t)=>{M({type:e,message:t}),G&&console.log(`[${e}] ${t}`)}};let Y=0,V=0;const J=e=>{const[t,r,n]=e.split(":");return 60*parseFloat(t)*60+60*parseFloat(r)+parseFloat(n)};var H=D((function(e,t){e.exports=function(){function e(){var e=arguments.length;if(0===e)throw new Error("resolveUrl requires at least one argument; got none.");var t=document.createElement("base");if(t.href=arguments[0],1===e)return t.href;var r=document.getElementsByTagName("head")[0];r.insertBefore(t,r.firstChild);for(var n,o=document.createElement("a"),i=1;i<e;i++)o.href=arguments[i],n=o.href,t.href=n;return r.removeChild(t),n}return e}()})),K={_args:[["@ffmpeg/ffmpeg@0.10.0","/home/runner/work/z0rde-maker/z0rde-maker"]],_from:"@ffmpeg/ffmpeg@0.10.0",_id:"@ffmpeg/ffmpeg@0.10.0",_inBundle:!1,_integrity:"sha512-W+d0ysYTO6d4vue/0KMYrxaprh9wvmnPqh6qyHXavBWLrDcE7gI3cJ/EQVfwe9nrt2e0Pi7873P2I18VEDgRfA==",_location:"/@ffmpeg/ffmpeg",_phantomChildren:{},_requested:{type:"version",registry:!0,raw:"@ffmpeg/ffmpeg@0.10.0",name:"@ffmpeg/ffmpeg",escapedName:"@ffmpeg%2fffmpeg",scope:"@ffmpeg",rawSpec:"0.10.0",saveSpec:null,fetchSpec:"0.10.0"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/@ffmpeg/ffmpeg/-/ffmpeg-0.10.0.tgz",_spec:"0.10.0",_where:"/home/runner/work/z0rde-maker/z0rde-maker",author:{name:"Jerome Wu",email:"jeromewus@gmail.com"},browser:{"./src/node/index.js":"./src/browser/index.js"},bugs:{url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},dependencies:{"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},description:"FFmpeg WebAssembly version",devDependencies:{"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.10.0","@types/emscripten":"^1.39.4","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},directories:{example:"examples"},engines:{node:">=12.16.1"},homepage:"https://github.com/ffmpegwasm/ffmpeg.wasm#readme",keywords:["ffmpeg","WebAssembly","video"],license:"MIT",main:"src/index.js",name:"@ffmpeg/ffmpeg",repository:{type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},scripts:{build:"rimraf dist && webpack --config scripts/webpack.config.prod.js",lint:"eslint src",prepublishOnly:"npm run build",start:"node scripts/server.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html","test:node":"node --experimental-wasm-threads --experimental-wasm-bulk-memory node_modules/.bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js"},types:"src/index.d.ts",version:"0.10.0"};const{devDependencies:Q}=K;var X={corePath:"undefined"!=typeof process&&"development"===process.env.FFMPEG_ENV?H("/node_modules/@ffmpeg/core/dist/ffmpeg-core.js"):`https://unpkg.com/@ffmpeg/core@${Q["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`};const{log:Z}=I,ee=async(e,t)=>{Z("info",`fetch ${e}`);const r=await(await fetch(e)).arrayBuffer();Z("info",`${e} file size = ${r.byteLength} bytes`);const n=new Blob([r],{type:t}),o=URL.createObjectURL(n);return Z("info",`${e} blob URL = ${o}`),o};var te={defaultOptions:X,getCreateFFmpegCore:async({corePath:e})=>{if("string"!=typeof e)throw Error("corePath should be a string!");const t=H(e),r=await ee(t,"application/javascript"),n=await ee(t.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),o=await ee(t.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return"undefined"==typeof createFFmpegCore?new Promise((e=>{const t=document.createElement("script"),i=()=>{t.removeEventListener("load",i),Z("info","ffmpeg-core.js script loaded"),e({createFFmpegCore:createFFmpegCore,corePath:r,wasmPath:n,workerPath:o})};t.src=r,t.type="text/javascript",t.addEventListener("load",i),document.getElementsByTagName("head")[0].appendChild(t)})):(Z("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore:createFFmpegCore,corePath:r,wasmPath:n,workerPath:o}))},fetchFile:async e=>{let t=e;if(void 0===e)return new Uint8Array;if("string"==typeof e)if(/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(e))t=atob(e.split(",")[1]).split("").map((e=>e.charCodeAt(0)));else{const r=await fetch(H(e));t=await r.arrayBuffer()}else(e instanceof File||e instanceof Blob)&&(t=await(r=e,new Promise(((e,t)=>{const n=new FileReader;n.onload=()=>{e(n.result)},n.onerror=({target:{error:{code:e}}})=>{t(Error(`File could not be read! Code=${e}`))},n.readAsArrayBuffer(r)}))));var r;return new Uint8Array(t)}};const{defaultArgs:re,baseOptions:ne}={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},{setLogging:oe,setCustomLogger:ie,log:se}=I,{defaultOptions:ae,getCreateFFmpegCore:ce}=te,{version:le}=K,fe=Error("ffmpeg.wasm is not ready, make sure you have completed load().");const{fetchFile:ue}=te;var pe={createFFmpeg:(e={})=>{const{log:t,logger:r,progress:n,...o}={...ne,...ae,...e};let i=null,s=null,a=null,c=!1,l=n;const f=({type:e,message:t})=>{se(e,t),((e,t)=>{if("string"==typeof e)if(e.startsWith("  Duration")){const r=e.split(", ")[0].split(": ")[1],n=J(r);t({duration:n,ratio:V}),(0===Y||Y>n)&&(Y=n)}else if(e.startsWith("frame")||e.startsWith("size")){const r=e.split("time=")[1].split(" ")[0],n=J(r);V=n/Y,t({ratio:V,time:n})}else e.startsWith("video:")&&(t({ratio:1}),Y=0)})(t,l),(e=>{"FFMPEG_END"===e&&null!==a&&(a(),a=null,c=!1)})(t)};return oe(t),ie(r),se("info",`use ffmpeg.wasm v${le}`),{setProgress:e=>{l=e},setLogger:e=>{ie(e)},setLogging:oe,load:async()=>{if(se("info","load ffmpeg-core"),null!==i)throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.");{se("info","loading ffmpeg-core");const{createFFmpegCore:e,corePath:t,workerPath:r,wasmPath:n}=await ce(o);i=await e({mainScriptUrlOrBlob:t,printErr:e=>f({type:"fferr",message:e}),print:e=>f({type:"ffout",message:e}),locateFile:(e,t)=>{if("undefined"!=typeof window){if(void 0!==n&&e.endsWith("ffmpeg-core.wasm"))return n;if(void 0!==r&&e.endsWith("ffmpeg-core.worker.js"))return r}return t+e}}),s=i.cwrap("proxy_main","number",["number","number"]),se("info","ffmpeg-core loaded")}},isLoaded:()=>null!==i,run:(...e)=>{if(se("info",`run ffmpeg command: ${e.join(" ")}`),null===i)throw fe;if(c)throw Error("ffmpeg.wasm can only run one command at a time");return c=!0,new Promise((t=>{const r=[...re,...e].filter((e=>0!==e.length));a=t,s(...((e,t)=>{const r=e._malloc(t.length*Uint32Array.BYTES_PER_ELEMENT);return t.forEach(((t,n)=>{const o=e._malloc(t.length+1);e.writeAsciiToMemory(t,o),e.setValue(r+Uint32Array.BYTES_PER_ELEMENT*n,o,"i32")})),[t.length,r]})(i,r))}))},exit:()=>{if(null===i)throw fe;c=!1,i.exit(1),i=null,s=null,a=null},FS:(e,...t)=>{if(se("info",`run FS.${e} ${t.map((e=>"string"==typeof e?e:`<${e.length} bytes binary file>`)).join(" ")}`),null===i)throw fe;{let r=null;try{r=i.FS[e](...t)}catch(r){throw"readdir"===e?Error(`ffmpeg.FS('readdir', '${t[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`):"readFile"===e?Error(`ffmpeg.FS('readFile', '${t[0]}') error. Check if the path exists`):Error("Oops, something went wrong in FS operation.")}return r}}}},fetchFile:ue};function de(e,t,r){const n=e.slice();return n[10]=t[r],n}function me(e){let t,r,n,o,i,f,g,v,y,w,b=e[0].join(" or ")+"",$=e[0],x=[];for(let t=0;t<$.length;t+=1)x[t]=ge(de(e,$,t));return{c(){t=l("div");for(let e=0;e<x.length;e+=1)x[e].c();r=p(),n=l("label"),o=u("Choose or drag and drop a "),i=u(b),f=p(),g=l("input"),m(t,"class","icons svelte-zzpjps"),m(g,"class","file-input svelte-zzpjps"),m(g,"type","file"),m(g,"accept",v=e[0].join("/*,")+"/*"),m(n,"class","svelte-zzpjps")},m(c,l){a(c,t,l);for(let e=0;e<x.length;e+=1)x[e].m(t,null);a(c,r,l),a(c,n,l),s(n,o),s(n,i),s(n,f),s(n,g),y||(w=d(g,"change",e[7]),y=!0)},p(e,r){if(1&r){let n;for($=e[0],n=0;n<$.length;n+=1){const o=de(e,$,n);x[n]?x[n].p(o,r):(x[n]=ge(o),x[n].c(),x[n].m(t,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=$.length}1&r&&b!==(b=e[0].join(" or ")+"")&&h(i,b),1&r&&v!==(v=e[0].join("/*,")+"/*")&&m(g,"accept",v)},d(e){e&&c(t),function(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}(x,e),e&&c(r),e&&c(n),y=!1,w()}}}function he(e){let t,r,n,o,i,s,f;function u(e,o){return(null==t||2&o)&&(t=!!e[1].type.startsWith("video/")),t?we:((null==r||2&o)&&(r=!!e[1].type.startsWith("image/")),r?ye:((null==n||2&o)&&(n=!!e[1].type.startsWith("audio/")),n?ve:void 0))}let h=u(e,-1),g=h&&h(e);return{c(){g&&g.c(),o=p(),i=l("button"),m(i,"class","delete icon svelte-zzpjps")},m(t,r){g&&g.m(t,r),a(t,o,r),a(t,i,r),s||(f=d(i,"click",e[5]),s=!0)},p(e,t){h===(h=u(e,t))&&g?g.p(e,t):(g&&g.d(1),g=h&&h(e),g&&(g.c(),g.m(o.parentNode,o)))},d(e){g&&g.d(e),e&&c(o),e&&c(i),s=!1,f()}}}function ge(e){let t,r;return{c(){t=l("div"),m(t,"class",r=e[10]+" icon svelte-zzpjps")},m(e,r){a(e,t,r)},p(e,n){1&n&&r!==(r=e[10]+" icon svelte-zzpjps")&&m(t,"class",r)},d(e){e&&c(t)}}}function ve(e){let t,r;return{c(){t=l("audio"),t.controls=!0,t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r),m(t,"class","svelte-zzpjps")},m(e,r){a(e,t,r)},p(e,n){2&n&&t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r)},d(e){e&&c(t)}}}function ye(e){let t,r;return{c(){t=l("img"),m(t,"alt","Input"),t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r),m(t,"class","svelte-zzpjps")},m(e,r){a(e,t,r)},p(e,n){2&n&&t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r)},d(e){e&&c(t)}}}function we(e){let t,r;return{c(){t=l("video"),t.controls=!0,t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r),m(t,"class","svelte-zzpjps")},m(e,r){a(e,t,r)},p(e,n){2&n&&t.src!==(r=URL.createObjectURL(e[1]))&&m(t,"src",r)},d(e){e&&c(t)}}}function be(t){let r,o,i;function s(e,t){return e[1]?he:me}let f=s(t),u=f(t);return{c(){r=l("div"),u.c(),m(r,"class","drop-area svelte-zzpjps"),v(r,"populated",!!t[1])},m(e,n){a(e,r,n),u.m(r,null),t[8](r),o||(i=[d(r,"click",t[9]),d(r,"dragenter",$e),d(r,"dragleave",xe),d(r,"dragover",Ee),d(r,"drop",t[3])],o=!0)},p(e,[t]){f===(f=s(e))&&u?u.p(e,t):(u.d(1),u=f(e),u&&(u.c(),u.m(r,null))),2&t&&v(r,"populated",!!e[1])},i:e,o:e,d(e){e&&c(r),u.d(),t[8](null),o=!1,n(i)}}}function $e(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("dragover")}function xe(e){e.preventDefault(),e.stopPropagation(),e.target.classList.remove("dragover")}function Ee(e){e.preventDefault(),e.stopPropagation()}function Fe(e,t,r){let n,o,{setFile:i=(()=>{})}=t,{accept:s=[]}=t;function a(e){r(1,n=e.item(0)),i(n)}return e.$$set=e=>{"setFile"in e&&r(6,i=e.setFile),"accept"in e&&r(0,s=e.accept)},[s,n,o,function(e){e.stopPropagation(),e.preventDefault(),console.log("ayo"),a(e.dataTransfer.files)},a,function(e){e.stopPropagation(),r(1,n=void 0),i(n)},i,e=>a(e.target.files),function(e){x[e?"unshift":"push"]((()=>{o=e,r(2,o)}))},()=>n||o.querySelector(".file-input").click()]}class Le extends q{constructor(e){super(),W(this,e,Fe,be,i,{setFile:6,accept:0})}}function _e(t){let r,n;return{c(){r=l("div"),n=l("div"),m(n,"class","svelte-1r5ne4q"),m(r,"class","progress-bar svelte-1r5ne4q"),g(r,"--barWidth",t[0]+"%")},m(e,t){a(e,r,t),s(r,n)},p(e,[t]){1&t&&g(r,"--barWidth",e[0]+"%")},i:e,o:e,d(e){e&&c(r)}}}function je(e,t,r){let n,{progress:o=0}=t;return e.$$set=e=>{"progress"in e&&r(1,o=e.progress)},e.$$.update=()=>{2&e.$$.dirty&&r(0,n=Math.min(100*o/3,100))},[n,o]}class ke extends q{constructor(e){super(),W(this,e,je,_e,i,{progress:1})}}function Pe(t){let r,n,o,i,f,g,v;return{c(){r=l("div"),n=l("span"),o=u(t[0]),i=p(),f=l("button"),m(f,"class","close icon svelte-smpnpm"),m(r,"class","error-banner svelte-smpnpm")},m(e,c){a(e,r,c),s(r,n),s(n,o),s(r,i),s(r,f),t[3](r),g||(v=d(f,"click",t[2]),g=!0)},p(e,[t]){1&t&&h(o,e[0])},i:e,o:e,d(e){e&&c(r),t[3](null),g=!1,v()}}}function ze(e,t,r){let n,{text:o=""}=t;return e.$$set=e=>{"text"in e&&r(0,o=e.text)},[o,n,()=>n.remove(),function(e){x[e?"unshift":"push"]((()=>{n=e,r(1,n)}))}]}class Oe extends q{constructor(e){super(),W(this,e,ze,Pe,i,{text:0})}}function Se(t){let r,n,o;return{c(){r=l("a"),n=f("svg"),o=f("path"),m(o,"fill-rule","evenodd"),m(o,"d","M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"),m(n,"viewBox","0 0 16 16"),m(n,"version","1.1"),m(n,"class","svelte-5j6top"),m(r,"href",t[0]),m(r,"target","_blank"),m(r,"class","svelte-5j6top")},m(e,t){a(e,r,t),s(r,n),s(n,o)},p(e,[t]){1&t&&m(r,"href",e[0])},i:e,o:e,d(e){e&&c(r)}}}function Ce(e,t,r){let n,{repo:o=""}=t;return e.$$set=e=>{"repo"in e&&r(1,o=e.repo)},e.$$.update=()=>{2&e.$$.dirty&&r(0,n="https://github.com/"+o)},[n,o]}class Re extends q{constructor(e){super(),W(this,e,Ce,Se,i,{repo:1})}}function Ue(t){let r,n;return{c(){r=l("video"),r.controls=!0,r.src!==(n=t[3])&&m(r,"src",n),m(r,"class","svelte-1qs36o8")},m(e,t){a(e,r,t)},p(e,t){8&t&&r.src!==(n=e[3])&&m(r,"src",n)},i:e,o:e,d(e){e&&c(r)}}}function Ae(e){let t,r,n;function o(t){e[9](t)}let i={};return void 0!==e[0]&&(i.progress=e[0]),t=new ke({props:i}),x.push((()=>function(e,t,r){const n=e.$$.props[t];void 0!==n&&(e.$$.bound[n]=r,r(e.$$.ctx[n]))}(t,"progress",o))),{c(){A(t.$$.fragment)},m(e,r){N(t,e,r),n=!0},p(e,n){const o={};var i;!r&&1&n&&(r=!0,o.progress=e[0],i=()=>r=!1,F.push(i)),t.$set(o)},i(e){n||(R(t.$$.fragment,e),n=!0)},o(e){U(t.$$.fragment,e),n=!1},d(e){T(t,e)}}}function Ne(e){let t,r,o,i,f,h,g,v,y,w,b,$,x,E,F,L,_,j;o=new Le({props:{accept:["video","image"],setFile:e[7]}}),f=new Le({props:{accept:["audio","video"],setFile:e[8]}});const k=[Ae,Ue],P=[];function z(e,t){return e[4]?0:e[3]?1:-1}return~(v=z(e))&&(y=P[v]=k[v](e)),F=new Re({props:{repo:"the-garlic-os/z0rde-maker"}}),{c(){t=l("main"),r=l("section"),A(o.$$.fragment),i=p(),A(f.$$.fragment),h=p(),g=l("section"),y&&y.c(),w=p(),b=l("button"),$=u("Combine"),E=p(),A(F.$$.fragment),m(r,"class","input svelte-1qs36o8"),m(g,"class","output svelte-1qs36o8"),m(b,"class","combine svelte-1qs36o8"),b.disabled=x=e[4]||!e[2]||!e[1],m(t,"class","svelte-1qs36o8")},m(n,c){a(n,t,c),s(t,r),N(o,r,null),s(r,i),N(f,r,null),s(t,h),s(t,g),~v&&P[v].m(g,null),e[10](g),s(t,w),s(t,b),s(b,$),s(t,E),N(F,t,null),L=!0,_||(j=d(b,"click",e[6]),_=!0)},p(e,[t]){const r={};2&t&&(r.setFile=e[7]),o.$set(r);const i={};4&t&&(i.setFile=e[8]),f.$set(i);let s=v;v=z(e),v===s?~v&&P[v].p(e,t):(y&&(C={r:0,c:[],p:C},U(P[s],1,1,(()=>{P[s]=null})),C.r||n(C.c),C=C.p),~v?(y=P[v],y?y.p(e,t):(y=P[v]=k[v](e),y.c()),R(y,1),y.m(g,null)):y=null),(!L||22&t&&x!==(x=e[4]||!e[2]||!e[1]))&&(b.disabled=x)},i(e){L||(R(o.$$.fragment,e),R(f.$$.fragment,e),R(y),R(F.$$.fragment,e),L=!0)},o(e){U(o.$$.fragment,e),U(f.$$.fragment,e),U(y),U(F.$$.fragment,e),L=!1},d(r){r&&c(t),T(o),T(f),~v&&P[v].d(),e[10](null),T(F),_=!1,j()}}}function Te(e,t,r){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{c(n.next(e))}catch(e){i(e)}}function a(e){try{c(n.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}c((n=n.apply(e,t||[])).next())}))};let o,i,s,a,c=0,l=!1;b((()=>{window.addEventListener("error",(e=>{new Oe({target:a,props:{text:e.message}}),console.error(e.error)}))}));const f=pe.createFFmpeg({progress:({ratio:e})=>r(0,c=e)}),u=f.load();return[c,o,i,s,l,a,function(){return n(this,void 0,void 0,(function*(){r(4,l=!0);const e=o.type.startsWith("video/")||"image/gif"===o.type?"mp4":"png";yield u,f.FS("writeFile",`input.${e}`,yield pe.fetchFile(o)),f.FS("writeFile","input.wav",yield pe.fetchFile(i));const t="mp4"===e?"-stream_loop -1 -i input.mp4 -i input.wav -map 0:v:0 -map 1:a:0 -c:a aac -shortest -fflags +shortest":"-loop 1 -i input.png -i input.wav -map 0:v:0 -map 1:a:0 -c:v libx264 -tune stillimage -c:a aac -shortest -fflags +shortest";yield f.run(...t.split(" "),"output.mp4");const n=f.FS("readFile","output.mp4");r(3,s=URL.createObjectURL(new Blob([n.buffer],{type:"video/mp4"}))),r(4,l=!1),r(0,c=0)}))},e=>r(1,o=e),e=>r(2,i=e),function(e){c=e,r(0,c)},function(e){x[e?"unshift":"push"]((()=>{a=e,r(5,a)}))}]}return new class extends q{constructor(e){super(),W(this,e,Te,Ne,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
